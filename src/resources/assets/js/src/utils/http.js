"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function DMFetch(e,t,n,r,o){r||(r={}),_config2.default&&_config2.default.dataDomain&&(e=_config2.default.dataDomain+e);var u={};u["X-Requested-With"]="XMLHttpRequest";var a=window.reduxStore.getState().user;if(a&&a.currentTeam&&(u["X-Current-Team"]=a.currentTeam.id),u["X-Socket-ID"]=a.socketId,u.Accept="application/json","GET"!=t&&n&&(u["Content-Type"]="application/json"),n&&o)throw new Error("Can not have both json and formdata in a request");return n?n=JSON.stringify(n):o instanceof FormData&&(n=o),fetch(e,{method:t,headers:u,credentials:"include",body:n}).then(function(e){return 401==e.status?(document.location="/logout",{}):4==Math.floor(e.status/100)?{}:r.returnResponse?e:r.returnAllData?responseToJson(e):returnDataFromResponse(e)})}function returnDataFromResponse(e){return responseToJson(e).then(function(e){if(e.errors)for(var t=0;t<e.errors.length;t++)!function(t){import("./errorModal").then(function(n){n(e.errors[t].message)})}(t);return e.data})}function responseToJson(e){return e.json()}Object.defineProperty(exports,"__esModule",{value:!0});var _config=require("../../../../../../../../../resources/assets/react-app/config"),_config2=_interopRequireDefault(_config),Http={get:function(e,t,n,r){return DMFetch(e,"GET",t,n,r)},post:function(e,t,n,r){return DMFetch(e,"POST",t,n,r)},put:function(e,t,n,r){return DMFetch(e,"PUT",t,n,r)},delete:function(e,t,n,r){return DMFetch(e,"DELETE",t,n,r)}};exports.default=Http;