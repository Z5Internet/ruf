"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _promise=require("promise"),_promise2=_interopRequireDefault(_promise);module.exports=function(e,t,r){return new _promise2.default(function(a,i){var n=new FileReader;n.onload=function(i){var n=document.createElement("img");n.onload=function(){var i=document.createElement("canvas"),o=i.getContext("2d");o.drawImage(n,0,0);var u=r,d=t,m=n.width,s=n.height;m>s?m>u&&(s*=u/m,m=u):s>d&&(m*=d/s,s=d),i.width=m,i.height=s;var o=i.getContext("2d");o.drawImage(n,0,0,m,s);var c=i.toDataURL("image/jpeg",.75);e.imgSrc=c,a(e)}.bind(this),n.src=i.target.result}.bind(this),n.readAsDataURL(e)})};